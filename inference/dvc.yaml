vars:
- config.yaml:domain,paths
- params_4th.yaml:exp,dims

stages:
  inference:
    cmd: >
      python inferring.py
      +input=${exp.input_data}
      +checkpoint_path=${method.checkpoint}
      +config_path=${method.config}
      +output_path=${paths.output}/${method.name}-${exp.name}.nc
      +patch=${dims.patch} +stride=${dims.stride}
      +period_from=${domain.time.0}
      +period_to=${domain.time.1}
      +input_var=${exp.input_var}
      +output_var=${exp.output_var}
      +output_geo_uv=${method.geo_uv}
      +output_dc_format=true
      +batch_size=1
      hydra.run.dir=. hydra.output_subdir=null hydra/job_logging=disabled
      hydra/hydra_logging=disabled
